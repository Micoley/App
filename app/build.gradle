apply plugin: 'com.android.model.application'

model {
    repositories {
        libs(PrebuiltLibraries) {
            prebuilt {
                headers.srcDir "src/main/tangoLibs"
                binaries.withType(SharedLibraryBinary) {
                    sharedLibraryFile = file("src/main/tangoLibs/libtango_client_api.so")
                }
            }
        }
    }
    android {
        compileSdkVersion = 23
        buildToolsVersion = "23.0.3"

        defaultConfig {
            applicationId = "hfu.tango.main.mainapp"
            minSdkVersion.apiLevel = 19
            targetSdkVersion.apiLevel = 23
            versionCode = 1
            versionName = "1.0"
        }
        ndk {
            moduleName = "framebuffer"
            stl = "gnustl_static"
            platformVersion = 19
            abiFilters.add("armeabi-v7a")
            //abiFilters.add("x86")
            ldLibs.add("log")
        }
        sources {
            main {
                jni {
                    dependencies {
                        library "prebuilt"
                    }
                }
            }
        }
        buildTypes {
            release {
                minifyEnabled = false
                proguardFiles.add(file('proguard-rules.txt'))
            }
        }
        allprojects {
            repositories {
                jcenter()
                flatDir {
                    dirs 'libs'
                }
            }
        }
    }
}

dependencies {
    compile fileTree(include: ['*.jar'], dir: 'libs')
    testCompile 'junit:junit:4.12'
    compile 'com.android.support:appcompat-v7:23.4.0'
    compile project(':openCVLibrary310')
    compile files('libs/TangoSDK_Mira_Java.jar')
}